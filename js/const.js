// Base 64 encoding
const BannedGuesses = new Set("abos;amakwerekwere;arse;arses;arsing;asshole;baas;baases;backra;backras;bakra;bakras;ballbag;ballbags;ballsack;bastard;bastards;batshit;beaner;beaners;beastiality;bender;biatch;biatches;binghi;binghis;bint;bints;bitch;bitched;bitches;bitchiness;bitching;bitchy;blackamoor;blackamoors;blackfella;blackfellas;blowjob;boche;boches;bogtrotter;bogtrotters;bohunk;bohunks;bollock;bollocks;boner;boong;boonga;boongas;boongs;bosche;bosches;bossboy;bossboys;brushite;bubba;bubbas;buckra;buckras;buftie;bufties;bufty;bukkake;bulldike;bulldikes;bulldyke;bulldykes;bullshit;bullshits;bullshitted;bullshitter;bullshitters;bullshitting;bumboy;bumboys;buttmunch;buttplug;chickenshit;chickenshits;chinkie;chinkies;cholo;cholos;clit;cocksucker;cocksuckers;coolie;coolies;cooly;coon;coonshit;coonshits;copperskin;copperskins;cracka;crackas;crap;crapped;crapper;crapping;crip;crippledom;crippledoms;crips;cummed;cummer;cumming;cums;cumshot;cunt;cunts;cunty;dago;dagoes;dagos;darkey;darkeys;darkie;darkies;darky;dick;dicked;dicking;dicks;dikey;dikier;dikiest;dildo;dipshit;dipshits;dogan;dogans;douche;douchebag;douchebags;dyke;dykey;dykier;dykiest;faggeries;faggery;faggier;faggiest;fagging;faggot;faggotier;faggotiest;faggotries;faggotry;faggots;faggoty;faggy;fags;fannies;fanny;fatass;fatasses;fellate;fellatio;frig;frigged;frigging;frigs;fuck;fucked;fucker;fuckers;fuckface;fuckfaces;fuckhead;fuckheads;fucking;fuckoff;fuckoffs;fucks;fuckup;fuckups;fuckwit;fuckwits;fudgepacker;gammat;gammats;gangbang;gaylord;gaysex;ginzo;ginzoes;ginzos;gipped;gipping;gippo;gippoes;gippos;gips;gobshite;gobshites;golliwog;golliwogg;golliwoggs;golliwogs;gollywog;gollywogs;gook;gookeye;gookeyes;gooks;gooky;gookys;goyim;goyisch;goyish;goyishe;goys;gringa;gringas;gringo;gringos;guinea;gypo;gypos;gypped;gypper;gyppers;gypping;gyppo;gyppos;gyps;gypsied;gypsies;gypster;gypsters;gypsy;gypsying;haole;haoles;harelip;harelipped;harelips;hasbian;hasbians;hebe;hebes;hentai;honkey;honkeys;honkie;honkies;honky;hori;horis;horniest;horny;horseshit;horseshits;humping;hunkey;hunkeys;hunkie;hunkies;incest;incests;incestuous;incestuously;incestuousness;incestuousnesses;injun;injuns;jackoff;jerkoff ;jerries;jerry;jerrys;jesuit;jesuitic;jesuitical;jesuitically;jesuitism;jesuitisms;jesuitries;jesuitry;jesuits;jewboy;jewboys;jigaboo;jigaboos;jism;jizm ;jizz;kaffir;kaffirboom;kaffirbooms;kaffirs;kafir;kafirs;kanaka;kanakas;kike;kikes;knobhead;knobjocky;kraut;krauts;langer;langers;lesbo;lesbos;leses;lezes;lezz;lezza;lezzas;lezzes;lezzie;lezzies;lezzy;lubra;lubras;massa;massas;merde;mick;micks;mierda;mindfuck;mindfucked;mindfucks;minge;minges;moffie;moffies;mofo;mong;monged;mongol;mongolian;mongolism;mongolisms;mongoloid;mongoloids;mongols;mongs;motherfucker;motherfuckers;motherfucking;mulatress;mulatresses;mulatta;mulattas;mulatto;mulattoes;mulattos;mulattress;mulattresses;munt;munts;muntu;muntus;nance;nances;nancier;nancies;nanciest;nancified;nancy;neger;negress;negresses;negro;negroes;negrohead;negroheads;negroid;negroidal;negroids;negroism;negroisms;negrophil;negrophile;negrophiles;negrophilism;negrophilisms;negrophilist;negrophilists;negrophils;negrophobe;negrophobes;negrophobia;negrophobias;negros;nelly;nigga;niggah;nigger;niggerdom;niggerdoms;niggered;niggerhead;niggerheads;niggerier;niggeriest;niggering;niggerish;niggerism;niggerisms;niggerling;niggerlings;niggers;niggery;niglet;niglets;nitchie;nitchies;nonhandicapped;nonpapist;nonpapists;numbnuts;nutsack;nutsacks;octaroon;octaroons;octoroon;octoroons;ofay;ofays;papish;papisher;papishers;papishes;papism;papisms;papist;papistic;papistical;papistically;papistries;papistry;papists;peckerwood;peckerwoods;phonesex;picaninnies;picaninny;piccanin;piccaninnies;piccaninny;piccanins;pickaninnies;pickaninny;pickney;pickneys;pikey;pikeys;piss;polack;polacks;poofier;poofiest;poofs;pooftah;pooftahs;poofter;poofters;poofy;poove;pooveries;poovery;pooves;poovier;pooviest;poovy;poperies;popery;popish;popishly;porn;porno;pornographic;pornography;pornos;porns;pouftah;pouftahs;poufter;poufters;pube;pubes;pussies;pussy;quadroon;quadroons;quarteroon;quarteroons;quashee;quashees;quashie;quashies;queerdom;queerdoms;quintroon;quintroons;raghead;ragheads;rape;raped;rapes;raping;redneck;rednecked;rednecks;redskin;redskins;reffo;reffos;retard;retardate;retardates;retarded;retards;sakai;sakais;sambo;sambos;schizier;schiziest;schizo;schizos;schizy;schizzier;schizziest;schizzy;schvartze;schvartzes;schwartze;schwartzes;semimute;semimutes;shat;sheeney;sheeneys;sheenie;sheenies;shegetz;shemale;shemales;shicksa;shicksas;shiksa;shiksas;shikse;shikseh;shiksehs;shikses;shirtlifter;shirtlifters;shit;shitbag;shitbags;shitcan;shitcans;shite;shites;shitface;shitfaced;shitfaces;shithead;shitholes;shithteads;shitlist;shits;shitshole;shitstorm;shitstorms;shitte;shitted;shittier;shittiest;shittiness;shitting;shitty;shkotzim;shvartze;shvartzes;shylock;shylocks;skank;skanks;skanky;skimo;skimos;spastics;spaz;spazz;spazzed;spazzes;spazzing;spic;spick;spicks;spics;spik;spiks;squaw;squawman;squawmen;squaws;taig;taigs;thot;thots;tits;tittiefucker;titties;titty;towelhead;towelheads;trannie;trannies;tranny;twat;twinkie;twinkies;umlungu;umlungus;vendu;vendus;wang;wank;wanked;wanker;wankier;wankiest;wanking;wanks;wanky;welch;welched;welches;welching;welsh;welshed;welshes;welshing;wench;wetback;wetbacks;whitey;whiteys;whities;whore;wigga;wiggas;wigger;wiggers;willy;woggish;wogs;wooftah;wooftahs;woofter;woofters;yids;zambo;zambos".split(";"))
const InappropriateWords = new Set("asshole;ballsack;batshit;blowjob;boner;brushite;bukkake;bullshit;bullshits;bullshitted;bullshitter;bullshitters;bullshitting;buttmunch;buttplug;chickenshit;chickenshits;clit;coonshit;coonshits;cummer;cunt;cunts;cunty;dildo;dipshit;dipshits;fagging;faggot;fags;fellate;fellatio;frig;frigged;frigging;frigs;fuck;fucked;fucker;fuckers;fuckface;fuckfaces;fuckhead;fuckheads;fucking;fuckoff;fuckoffs;fucks;fuckup;fuckups;fuckwit;fuckwits;fudgepacker;gangbang;gaylord;gaysex;gobshite;gobshites;harelip;hentai;horniest;horny;horseshit;horseshits;jackoff;jerkoff ;jism;jizm ;jizz;knobhead;knobjocky;merde;mierda;mindfuck;mindfucked;mindfucks;mofo;motherfucker;motherfuckers;motherfucking;nigga;nigger;piss;porn;porno;pornographic;pornography;pornos;porns;pussies;pussy;shat;shit;shitbag;shitbags;shitcan;shitcans;shite;shites;shitface;shitfaced;shitfaces;shithead;shitholes;shithteads;shitlist;shits;shitshole;shitstorm;shitstorms;shitte;shitted;shittier;shittiest;shittiness;shitting;shitty;tittiefucker;titties;wang;wank;wanker;wankier;wankiest;wanky;wench;whore;willy".split(";"))

function TrieNode(key) {
    // the "key" value will be the character in sequence
    this.key = key;

    // we keep a reference to parent
    this.parent = null;

    // we have hash of children
    this.children = {};

    // check to see if the node is at the end
    this.end = false;
}

// iterates through the parents to get the word.
// time complexity: O(k), k = word length
TrieNode.prototype.getWord = function () {
    var output = [];
    var node = this;

    while (node !== null) {
        output.unshift(node.key);
        node = node.parent;
    }

    return output.join('');
};

// Trie.js - super simple JS implementation
// Credit to tpae
// https://gist.github.com/tpae/72e1c54471e88b689f85ad2b3940a8f0
// -----------------------------------------

// we implement Trie with just a simple root with null value.
function Trie() {
    this.root = new TrieNode(null);
}

// inserts a word into the trie.
// time complexity: O(k), k = word length
Trie.prototype.insert = function (word) {
    var node = this.root; // we start at the root ðŸ˜¬

    // for every character in the word
    for (var i = 0; i < word.length; i++) {
        // check to see if character node exists in children.
        if (!node.children[word[i]]) {
            // if it doesn't exist, we then create it.
            node.children[word[i]] = new TrieNode(word[i]);

            // we also assign the parent to the child node.
            node.children[word[i]].parent = node;
        }

        // proceed to the next depth in the trie.
        node = node.children[word[i]];

        // finally, we check to see if it's the last word.
        if (i == word.length - 1) {
            // if it is, we set the end flag to true.
            node.end = true;
        }
    }
};

// check if it contains a whole word.
// time complexity: O(k), k = word length
Trie.prototype.contains = function (word) {
    var node = this.root;

    // for every character in the word
    for (var i = 0; i < word.length; i++) {
        // check to see if character node exists in children.
        if (node.children[word[i]]) {
            // if it exists, proceed to the next depth of the trie.
            node = node.children[word[i]];
        } else {
            // doesn't exist, return false since it's not a valid word.
            return false;
        }
    }

    // we finished going through all the words, but is it a whole word?
    return node.end;
};

// returns every word with given prefix
// time complexity: O(p + n), p = prefix length, n = number of child paths
Trie.prototype.find = function (prefix) {
    var node = this.root;
    var output = [];

    // for every character in the prefix
    for (var i = 0; i < prefix.length; i++) {
        // make sure prefix actually has words
        if (node.children[prefix[i]]) {
            node = node.children[prefix[i]];
        } else {
            // there's none. just return it.
            return output;
        }
    }

    // recursively find all words in the node
    findAllWords(node, output);

    return output;
};

// recursive function to find all words in the given node.
function findAllWords(node, arr) {
    // base case, if node is at a word, push to output
    if (node.end) {
        arr.unshift(node.getWord());
    }

    // iterate through each children, call recursive findAllWords
    for (var child in node.children) {
        findAllWords(node.children[child], arr);
    }
}
